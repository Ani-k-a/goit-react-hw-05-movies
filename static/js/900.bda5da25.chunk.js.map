{"version":3,"file":"static/js/900.bda5da25.chunk.js","mappings":"4MACA,EAA0B,wB,oBCA1B,EAA6D,yBAA7D,EAA+F,2BAA/F,EAAoK,0BAApK,EAA6M,iC,6BCOvMA,EAASC,EAAAA,KAAaC,MAAM,CAChCC,OAAQF,EAAAA,KAAaG,IAAI,GAAGC,aAGxBC,EAAgB,CACpBH,OAAQ,IAGK,SAASI,EAAT,GAAsC,IAAfC,EAAc,EAAdA,WACpC,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACAC,QAAQC,IAAIH,GAQZ,OACE,SAAC,KAAD,CACEJ,cAAeA,EACfQ,SATiB,SAACC,EAAD,GAA4B,IAAjBC,EAAgB,EAAhBA,UACtBb,EAAWY,EAAXZ,OACRK,EAAWL,GACXQ,EAAgB,CAAEM,MAAOd,IACzBa,GACD,EAKGE,iBAAkBlB,EAHpB,UAKE,UAAC,KAAD,CAAMmB,aAAa,MAAMC,WAAS,EAACC,UAAWC,EAA9C,WACE,mBAAQC,KAAK,SAASF,UAAWC,EAAjC,UACE,SAAC,MAAD,OAGF,SAAC,KAAD,CACED,UAAWC,EACXC,KAAK,OACLC,KAAK,SACLC,YAAY,mBAEd,SAAC,KAAD,CACED,KAAK,SACLH,UAAWC,EACXI,UAAU,YAKnB,C,sDC1Cc,SAASC,IAAU,IAAD,EAC/B,GAAuBlB,EAAAA,EAAAA,MAAhBC,GAAP,eACA,GAA0BkB,EAAAA,EAAAA,UAAQ,UAAClB,EAAamB,IAAI,gBAAlB,QAA8B,IAAhE,eAAOZ,EAAP,KAAca,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KAEM1B,EAAa,SAAAS,GACjBa,EAASb,EACV,EAiBD,OAfAkB,EAAAA,EAAAA,YAAU,WACM,KAAVlB,IAGJe,EAAU,YACVI,EAAAA,EAAAA,IAAYnB,GAAOoB,MAAK,SAAAC,GACU,IAA5BA,EAASC,QAAQC,OACnBR,EAAU,aAEVA,EAAU,YACVE,EAAUI,EAASC,SAEtB,IACF,GAAE,CAACtB,KAGF,qBAASI,UAAWC,EAApB,UACc,SAAXS,IAAqB,SAACxB,EAAD,CAAaC,WAAYA,IACnC,YAAXuB,IAAwB,SAACU,EAAA,EAAD,IACb,aAAXV,IACC,iCACE,SAACxB,EAAD,CAAaC,WAAYA,KACzB,SAACkC,EAAA,EAAD,CAAWC,QAAQ,4CAGX,aAAXZ,IACC,iCACE,SAACxB,EAAD,CAAaC,WAAYA,KACzB,SAACoC,EAAA,EAAD,CAAYX,OAAQA,QAGxB,SAAC,EAAAY,SAAD,CAAUC,UAAU,SAACL,EAAA,EAAD,IAApB,UACE,SAAC,KAAD,QAIP,C","sources":["webpack://goit-react-hw-05-movies/./src/Pages/Movies/Movies.module.css?d262","webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","Pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Movies_section__+GVFD\"};","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"SearchForm_gallery__lbFjj\",\"form\":\"SearchForm_form__o80os\",\"button\":\"SearchForm_button__UXY06\",\"label\":\"SearchForm_label__GvSVH\",\"input\":\"SearchForm_input__HOxJo\",\"errorMessage\":\"SearchForm_errorMessage__m4+No\"};","import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { FaSearch } from 'react-icons/fa';\nimport css from './SearchForm.module.css';\nimport * as yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useSearchParams } from 'react-router-dom';\n\nconst schema = yup.object().shape({\n  search: yup.string().min(2).required(),\n});\n\nconst initialValues = {\n  search: '',\n};\n\nexport default function SearchFoarm({ submitForm }) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  console.log(searchParams);\n\n  const handleSubmit = (values, { resetForm }) => {\n    const { search } = values;\n    submitForm(search);\n    setSearchParams({ query: search });\n    resetForm();\n  };\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      validationSchema={schema}\n    >\n      <Form autoComplete=\"off\" autoFocus className={css.form}>\n        <button type=\"submit\" className={css.button}>\n          <FaSearch />\n        </button>\n\n        <Field\n          className={css.input}\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"Search movies\"\n        />\n        <ErrorMessage\n          name=\"search\"\n          className={css.errorMessage}\n          component=\"div\"\n        />\n      </Form>\n    </Formik>\n  );\n}\n\nSearchFoarm.propTypes = {\n  submitForm: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport css from './Movies.module.css';\nimport SearchFoarm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\nimport ErrorViev from 'components/ErrorViev/ErrorViev';\nimport { fetchSearch } from 'Services/api';\nimport MoviesList from 'components/MoviesList.jsx/MoviesList';\nimport { Outlet, useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') ?? '');\n  const [status, setStatus] = useState('idle');\n  const [movies, setMovies] = useState([]);\n\n  const submitForm = query => {\n    setQuery(query);\n  };\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    setStatus('pending');\n    fetchSearch(query).then(response => {\n      if (response.results.length === 0) {\n        setStatus('rejected');\n      } else {\n        setStatus('resolved');\n        setMovies(response.results);\n      }\n    });\n  }, [query]);\n\n  return (\n    <section className={css.section}>\n      {status === 'idle' && <SearchFoarm submitForm={submitForm}></SearchFoarm>}\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' && (\n        <>\n          <SearchFoarm submitForm={submitForm}></SearchFoarm>\n          <ErrorViev message=\"There are no results for your search\" />\n        </>\n      )}\n      {status === 'resolved' && (\n        <>\n          <SearchFoarm submitForm={submitForm}></SearchFoarm>\n          <MoviesList movies={movies}></MoviesList>\n        </>\n      )}\n      <Suspense fallback={<Loader />}>\n        <Outlet></Outlet>\n      </Suspense>\n    </section>\n  );\n}\n"],"names":["schema","yup","shape","search","min","required","initialValues","SearchFoarm","submitForm","useSearchParams","searchParams","setSearchParams","console","log","onSubmit","values","resetForm","query","validationSchema","autoComplete","autoFocus","className","css","type","name","placeholder","component","Movies","useState","get","setQuery","status","setStatus","movies","setMovies","useEffect","fetchSearch","then","response","results","length","Loader","ErrorViev","message","MoviesList","Suspense","fallback"],"sourceRoot":""}