"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[900],{6900:function(e,s,r){r.r(s),r.d(s,{default:function(){return S}});var t=r(9439),n=r(2791),o="Movies_section__+GVFD",a=r(5705),c=r(9135),i="SearchForm_form__o80os",u="SearchForm_button__UXY06",l="SearchForm_input__HOxJo",m="SearchForm_errorMessage__m4+No",h=r(7670),_=r(1087),d=r(184),j=h.Ry().shape({search:h.Z_().min(2).required()}),x={search:""};function f(e){var s=e.submitForm,r=(0,_.lr)(),n=(0,t.Z)(r,2),o=n[0],h=n[1];console.log(o);return(0,d.jsx)(a.J9,{initialValues:x,onSubmit:function(e,r){var t=r.resetForm,n=e.search;s(n),h({query:n}),t()},validationSchema:j,children:(0,d.jsxs)(a.l0,{autoComplete:"off",autoFocus:!0,className:i,children:[(0,d.jsx)("button",{type:"submit",className:u,children:(0,d.jsx)(c.U41,{})}),(0,d.jsx)(a.gN,{className:l,type:"text",name:"search",placeholder:"Search movies"}),(0,d.jsx)(a.Bc,{name:"search",className:m,component:"div"})]})})}var v=r(6474),p=r(7117),F=r(3598),g=r(6011),b=r(7689);function S(){var e,s=(0,_.lr)(),r=(0,t.Z)(s,1)[0],a=(0,n.useState)(null!==(e=r.get("query"))&&void 0!==e?e:""),c=(0,t.Z)(a,2),i=c[0],u=c[1],l=(0,n.useState)("idle"),m=(0,t.Z)(l,2),h=m[0],j=m[1],x=(0,n.useState)([]),S=(0,t.Z)(x,2),Z=S[0],N=S[1],y=function(e){u(e)};return(0,n.useEffect)((function(){""!==i&&(j("pending"),(0,F.on)(i).then((function(e){0===e.results.length?j("rejected"):(j("resolved"),N(e.results))})))}),[i]),(0,d.jsxs)("section",{className:o,children:["idle"===h&&(0,d.jsx)(f,{submitForm:y}),"pending"===h&&(0,d.jsx)(v.Z,{}),"rejected"===h&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f,{submitForm:y}),(0,d.jsx)(p.Z,{message:"There are no results for your search"})]}),"resolved"===h&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f,{submitForm:y}),(0,d.jsx)(g.Z,{movies:Z})]}),(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(v.Z,{}),children:(0,d.jsx)(b.j3,{})})]})}}}]);
//# sourceMappingURL=900.bda5da25.chunk.js.map